<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RCV1 Article</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style-for-reweighting-app.css') }}">
</head>
<body>
<!--<h2>Choose article:</h2>-->
<h2> Choose article:</h2>
<iframe src="{{ url_for('display_headlines') }}" ></iframe>
<table class="table1" style="float:right">
{% from "_formhelpers.html" import render_field %}
<tr><th colspan="2">
 Why was this article predicted as being about {% for item in items %} {{ item.predicted_labels }}{% endfor %}?
 </br>
 Top 10 words from this topic:
</th></tr>
<form method=post action="">
{% for key, value in topten.items() %}
<tr><td colspan="2">
<label for="weight">{{ key }} {{ value }}</label>
</td></tr>
<tr><td>

</td></tr>{% endfor %}</form>

<!--
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>-->
<tr><td colspan="2"></td></tr>
<tr><th colspan="2">Change word importance:</th></tr>
<tr><td colspan="2">Enter a positive or negative percentage to change the word importance.</td></tr>
<tr><td>
<form method=post action="/change_weights_by_percentage">
      <dl>
 Word: {{ render_field(form.feature_feedback, cols='15', rows='1') }}
 Percentage: {{ render_field(form.submit_percentage_feature_feedback, cols='10', rows='1') }}
  </dl>
  </td>
  <td>
    <input type=submit value='Submit feedback' name='submit_feature_feedback'>
      <input type="hidden" value='{{ form.feature_feedback }}' name='feature_feedback'>
      <input type="hidden" value='{{ form.submit_percentage_feature_feedback }}' name='submit_percentage_feature_feedback'>
    <input type="hidden" value="{{ articleid }}" name="articleid">
</form>
</td></tr>
</table>
{% for item in items %}
<div class="container">
<h3><strong> {{ item.Headline }}
</strong>
</h3>
<p>
<strong>Predicted topic:  </strong>
{{ item.predicted_labels }}
</p>

<p>
<strong >Prediction margin:</strong> {{ item.class_proba }}
</p>
<p>
           {{ item.Text }}
    </p>

<div id='button'>
    <form action="/update-v2" method="post">
      <input type=submit value='Correct' name='update_classifier'>
    <input type=submit value='Incorrect' name='update_classifier'>
    <input type=hidden value='{{ item.predicted_labels }}' name='prediction'>
    <input type=hidden value='{{ item.Text }}' name='uncertain_article'>
    <input type="hidden" value=" {{ item.Headline }} " name="article_headline">
    <input type="hidden" value="{{ articleid }}" name="articleid">
    </form>
</div>
</div>
{% endfor %}


  </body>
</html>