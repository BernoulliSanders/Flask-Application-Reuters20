<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Review</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style-for-reweighting-app.css') }}">
</head>
<body>
<!--<h2>Choose article:</h2>-->
<h2> Choose article:</h2>
<iframe src="{{ url_for('display_headlines') }}" ></iframe>
<table class="table1" style="float:right">
{% from "_formhelpers.html" import render_field %}
<tr><th colspan="2">
 Top 10 weights
</th></tr>
<form method=post action="/change-weights">
{% for key, value in topten.items() %}
<tr><td colspan="2">
<label for="weight">{{ key }} {{ value }}</label>
<input type="range" id="weight_1" min="0" value="" max="1000" step="10" defaultValue="{{ value }}" oninput="rangeValueDisplay.value=range.value">
<input type="hidden" value="{{ value }}" name="new_weight">
<script>
function myFunction() {
    document.getElementById("weight_1").value = "75";
}
</script>
</td></tr>{% endfor %}</form>
<!--
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>
<tr><td colspan="2">
<label for="weight">Weight</label>
<input type="range" id="weight" min="-10" value="0" max="10" step="0.1">
</td></tr>-->
<tr><td colspan="2"></td></tr>
<tr><th colspan="2">Would a different word be better?</th></tr>
<tr><td>
<form method=post action="/change-weights">
      <dl>
  {{ render_field(form.feature_feedback, cols='15', rows='1') }}
  </dl>
  </td>
  <td>
    <input type=submit value='Add new word' name='submit_feature_feedback'>
      <input type="hidden" value='{{ form.feature_feedback }}' name='feature_feedback'>
</form>
</td></tr>
</table>

{% for item in items %}
<div class="container">
<h3><strong> {{ item.Headline }}
</strong>
</h3>
<p>
<strong>Predicted topic:  </strong>
{{ item.predicted_labels }}
</p>

<p>
<strong >Prediction margin:</strong> {{ item.class_proba }}
</p>
<p>
           {{ item.Text }}
    </p>

<div id='button'>
    <form action="/update-v2" method="post">
      <input type=submit value='Correct' name='update_classifier'>
    <input type=submit value='Incorrect' name='update_classifier'>
    <input type=hidden value='{{ item.predicted_labels }}' name='prediction'>
    <input type=hidden value='{{ item.text }}' name='uncertain_article'>
    </form>
</div>
</div>
{% endfor %}


  </body>
</html>